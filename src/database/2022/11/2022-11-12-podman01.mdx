---
slug: "/podman01/"
date: 2022-11-12 15:22:54 +0000
modified: 2023-09-05 13:20:29 +0000
title: "[CONTAINER] Dockerì™€ Podman"
author: Kimson
categories: [container]
image: /assets/images/post/covers/TIL-podman.png
tags: [docker, container, image, podman]
description: "Dockerë€?

ìµœê·¼ íšŒì‚¬ ë‚´ë¶€ì—ì„œ ìƒˆë¡œìš´ ì„œë²„ ëª¨ë¸ ì œì•ˆìœ¼ë¡œ podmanì´ë¼ëŠ” ì»¨í…Œì´ë„ˆí™” ë„êµ¬ë¥¼ ìŠ¤í„°ë””í•˜ëŠ” ê¸°íšŒê°€ ìƒê²¼ìŠµë‹ˆë‹¤.

ìŠ¤íƒ€íŠ¸ì—…ì˜ ì„±ê²©ìƒ ì´ê²ƒì €ê²ƒ ì‹œë„í•˜ê³  ì ìš©í•˜ëŠ” ë…¸ë ¥ ë“±ì´ ê°œì¸ì ìœ¼ë¡œ ë„ì›€ì´ ë§ì´ ë˜ëŠ” ê²ƒ ê°™ì•„ ê¸°ë¶„ì´ ì¢‹ìŠµë‹ˆë‹¤. ë‹¤ë§Œ ë„ˆë¬´ ìƒˆë¡œìš´ ê²ƒì„ ì¶”êµ¬í•˜ëŠ” ê²ƒ ì•„ë‹Œê°€ í•˜ëŠ” ìƒê°ì´ ë“­ë‹ˆë‹¤. í•­ìƒ ìƒˆë¡œìš´ ê²ƒì´ ì¢‹ì€ ìŠ¤í™ì„ ê°€ì¡Œë‹¤ í•´ì„œ ëª¨ë“  ìƒí™©ì— ì í•©í•œ ê²ƒì€ ì•„ë‹ˆë‹ˆê¹Œìš”.

ê°ì„¤í•˜ê³ , podmanì„ ì•Œì•„ë³´ê¸°ì— ì•ì„œ dockerì— ëŒ€í•´ ê°„ëµí•˜ê²Œ ì§šê³  ë„˜ì–´ê°€ë ¤ í•©ë‹ˆë‹¤."
featured: true
rating: 4.5
profile: false
published: true
---

# Dockerë€?

ìµœê·¼ íšŒì‚¬ ë‚´ë¶€ì—ì„œ ìƒˆë¡œìš´ ì„œë²„ ëª¨ë¸ ì œì•ˆìœ¼ë¡œ podmanì´ë¼ëŠ” ì»¨í…Œì´ë„ˆí™” ë„êµ¬ë¥¼ ìŠ¤í„°ë””í•˜ëŠ” ê¸°íšŒê°€ ìƒê²¼ìŠµë‹ˆë‹¤.

ìŠ¤íƒ€íŠ¸ì—…ì˜ ì„±ê²©ìƒ ì´ê²ƒì €ê²ƒ ì‹œë„í•˜ê³  ì ìš©í•˜ëŠ” ë…¸ë ¥ ë“±ì´ ê°œì¸ì ìœ¼ë¡œ ë„ì›€ì´ ë§ì´ ë˜ëŠ” ê²ƒ ê°™ì•„ ê¸°ë¶„ì´ ì¢‹ìŠµë‹ˆë‹¤. ë‹¤ë§Œ ë„ˆë¬´ ìƒˆë¡œìš´ ê²ƒì„ ì¶”êµ¬í•˜ëŠ” ê²ƒ ì•„ë‹Œê°€ í•˜ëŠ” ìƒê°ì´ ë“­ë‹ˆë‹¤. í•­ìƒ ìƒˆë¡œìš´ ê²ƒì´ ì¢‹ì€ ìŠ¤í™ì„ ê°€ì¡Œë‹¤ í•´ì„œ ëª¨ë“  ìƒí™©ì— ì í•©í•œ ê²ƒì€ ì•„ë‹ˆë‹ˆê¹Œìš”.

ê°ì„¤í•˜ê³ , podmanì„ ì•Œì•„ë³´ê¸°ì— ì•ì„œ dockerì— ëŒ€í•´ ê°„ëµí•˜ê²Œ ì§šê³  ë„˜ì–´ê°€ë ¤ í•©ë‹ˆë‹¤.

## Dockerê°€ ê°€ì§€ëŠ” ê¸°ëŠ¥

ë„ì»¤ëŠ” ë¦¬ëˆ…ìŠ¤ ì‘ìš© í”„ë¡œê·¸ë¨ë“¤ì„ `í”„ë¡œì„¸ìŠ¤ ê²©ë¦¬ ê¸°ìˆ `ì„ í†µí•´ ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•˜ê³  ê´€ë¦¬í•˜ëŠ” `ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸`ì…ë‹ˆë‹¤.

![[ì¶œì²˜] https://www.docker.com/resources/what-container/](https://user-images.githubusercontent.com/71887242/201458999-9ca1a432-523d-488c-bc78-29a336ba2b38.png)

ì»¨í…Œì´ë„ˆëŠ” ì½”ë“œ, ì¢…ì†ì„±ì„ ëª¨ë‘ íŒ¨í‚¤ì§•í•˜ëŠ” ì•± ê³„ì¸µ ì¶”ìƒí™”ì…ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— ì ‘ì†í•´ì„œ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ CPUì™€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì œí•œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ í˜¸ìŠ¤íŠ¸ì˜ íŠ¹ì • í¬íŠ¸ì™€ ì—°ê²°í•˜ëŠ” í¬íŠ¸í¬ì›Œë”© ë“±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ì´ˆê¸°ì— ì»¨í…Œì´ë„ˆì™€ ì´ë¯¸ì§€ì˜ ëŠë‚Œì´ ì™€ë‹¿ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì¶”ìƒì ìœ¼ë¡œ ë‹¤ê°€ì™”ê¸°ì— ì œê°€ ì´í•´í•œ `ì»¨í…Œì´ë„ˆ`ëŠ” í•˜ë‚˜ì˜ ê°€ìƒ ìš´ì˜ì²´ì œì´ê³ , `ì´ë¯¸ì§€`ëŠ” ì‹¤í–‰ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§‘í•© ì •ë„ë¡œ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³ , ì»¨í…Œì´ë„ˆì— ì˜¬ë ¤ ê°€ìƒ í™˜ê²½ì—ì„œ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰ì‹œì¼œ ì„œë¹„ìŠ¤í•˜ëŠ” ëŠë‚Œì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

## Podmanì´ë€?

í¬ë“œë§¨ì€ ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œ OCI ì»¨í…Œì´ë„ˆë¥¼ ê°œë°œ, ê´€ë¦¬ ë° ì‹¤í–‰í•˜ê¸° ìœ„í•œ `ë°ëª¬ì´ ì—†ëŠ”` ì»¨í…Œì´ë„ˆ ì—”ì§„ì´ë©° ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ ìœ ì‚¬í•œ ì ‘ê·¼ ë°©ì‹ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ êµ¬ì¶•, ê´€ë¦¬ ë° ì‹¤í–‰í•˜ë„ë¡ ì„¤ê³„ëœ Red Hatì œí’ˆì…ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆëŠ” ë£¨íŠ¸ ë˜ëŠ” ë£¨íŠ¸ ì—†ëŠ” ëª¨ë“œë¡œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤ê³  í•©ë‹ˆë‹¤. í¬ë“œë§¨ì€ ë„ì»¤ì™€ ìœ ì‚¬í•˜ë©° dockerfileì„ í†µí•´ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  podman containerì—ì„œ ê´€ë¦¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ë„ì»¤ë¥¼ ì‚¬ìš©í•˜ì§€ì•Šê³  ë°”ë¡œ í¬ë“œë§¨ì„ ì ‘í–ˆê¸° ë•Œë¬¸ì— ìœ ì‚¬í•˜ë‹¤ê³ ë§Œ ì•Œê³  ìˆëŠ” ìƒíƒœë¼ ë” ìì„¸í•œ ë‚´ìš©ì€ ì¶”í›„ì— ìŠ¤í„°ë””ë¥¼ ì§„í–‰í•´ì„œ í¬ìŠ¤íŒ…ì„ ì¡°ê¸ˆì”© ìˆ˜ì • í•  ê³„íšì…ë‹ˆë‹¤.

## Podmanì„ ì„ íƒí•œ ì´ìœ 

ë¨¼ì € ì•ì„œ ë§í•œ ì´ì•¼ê¸°ë¥¼ í•œ ëˆˆì— ë³¼ í•„ìš”ê°€ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

![[ì¶œì²˜] https://darumatic.com/blog/podman_introduction](https://user-images.githubusercontent.com/71887242/201459922-47156871-e164-4b4c-852e-abc62f66f1bf.png)

ìœ„ ì´ë¯¸ì§€ë¥¼ ë³´ë©´ ì•Œê¸°ê°€ ì‰½ìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ì™€ ì»¤ë„, ì»¨í…Œì´ë„ˆëŠ” ë™ì¼í•˜ì§€ë§Œ ë„ì»¤ëŠ” ë°ëª¬ì„ í†µí•˜ê³  í¬ë“œë§¨ì€ ë°ëª¬ì´ ì—†ëŠ” í˜•íƒœë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë„ì»¤ì™€ ë‹¤ë¥¸ ì ì´ë¼ í•˜ë©´ `ë°ëª¬ì´ ì—†ë‹¤ëŠ”`ê²ƒì„ ê°•ì¡°í•˜ëŠ”ë°ìš”, ì˜ˆë¥¼ ë“¤ë©´ ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì—ì„œ serviceë¥¼ ì‚¬ìš©í•´ì„œ startí•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ì´ì•¼ê¸°ê°€ ë©ë‹ˆë‹¤. í¬ë“œë§¨ì´ ë„ì»¤ë³´ë‹¤ ë²„ê·¸ê°€ ì ë‹¤ëŠ” ë§ì´ ìˆëŠ”ë°ìš”, ê·¸ë ‡ë‹¤ê³ í•´ì„œ í¬ë“œë§¨ì´ ë²„ê·¸ê°€ ì•„ì˜ˆ ì—†ëŠ” ê²ƒì€ ì•„ë‹ˆì§€ë§Œ ë„ì»¤ ì´ë¯¸ì§€ì™€ í˜¸í™˜ì´ ë˜ê³  ë°ëª¬ì´ ì—†ë‹¤ëŠ” ì¥ì ê³¼ ë„ì»¤ì™€ ê±°ì˜ ë™ì¼í•œ ëª…ë ¹ë“¤ì´ ìˆê¸° ë•Œë¬¸ì— ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤ê³  ë§í•  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.

ë¬¼ë¡  ê²°ì •ê¶Œì„ ê°€ì§„ ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ìœ„ì—ì„œ ë‚´ë ¤ì˜¨ ì„ íƒì§€ì— ë™ì˜í•˜ê±°ë‚˜ ì˜ë¬¸ì„ ë‹¬ ë¿ì´ì§€ìš”... ê²°ì •ê¶Œìì˜ ì„ íƒ ì´ìœ ë¥¼ 1ì°¨ì›ì ìœ¼ë¡œ ì´í•´í•˜ìë©´ ê·¸ë ‡ìŠµë‹ˆë‹¤ ğŸ¥²

## dockerfile ìµíˆê¸°

dockerfileì— ëŒ€í•œ ë¬¸ë²• ë“±ì´ ì •ë¦¬ëœ ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ ì°¾ì§€ ëª»í•´ êµ¬ê¸€ë§í•˜ë©° ëª¨ì€ ëª…ë ¹ì„ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤. êµ¬ê¸€ë§í•˜ë©° ê¸ì–´ì˜¨ ì •ë³´ë¼ ì˜ëª»ëœ ë¶€ë¶„ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì–´ë””ê¹Œì§€ë‚˜ ì°¸ê³ ë§Œ í•˜ì‹œëŠ” ê²ƒì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.

### ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ë¬¸

1. RUN
2. CMD
3. ENTRYPOINT
4. WORKDIR
5. EXPOSE
6. ENV
7. COPY

í˜„ì¬ ì œê°€ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì´ 7ê°€ì§€ì…ë‹ˆë‹¤. ê·¸ ì™¸ëŠ” ë” ì•Œì•„ë³´ê³  ì¶”ê°€í•  ê²ƒì…ë‹ˆë‹¤.

ë¨¼ì € `RUN`ì€ ì´ë¯¸ì§€ ë¹Œë“œí•˜ë©´ì„œ ì‹¤í–‰ë˜ëŠ” ê²ƒì¸ë°ìš”. `RUN` ë’¤ì— ë¶™ëŠ” ì»¤ë©˜ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

```dockerfile
# ì˜ˆì œ1
RUN echo 'hello kimson!'
```

ì´ë¯¸ì§€ ë¹Œë“œë¥¼ í•˜ë©´ echo ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ì„œ `hello kimson!`ì„ ì¶œë ¥í•˜ê²Œ ë©ë‹ˆë‹¤. dockerfileì„ ì´ë¯¸ì§€ë¡œ ë¹Œë“œí•˜ëŠ” ëª…ë ¹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

`CMD`ëŠ” `ENTRYPOINT`ì™€ ìœ ì‚¬í•˜ì§€ë§Œ ì •í™•í•œ ì°¨ì´ëŠ” ì•„ì§ ëª¨ë¦…ë‹ˆë‹¤. ë‹¤ë§Œ, ì•„ëŠ” ê²ƒì€ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ì´ ë˜ëŠ” ì‹œì ì— ì‘ë™í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

`WORKDIR`ì€ í„°ë¯¸ë„ì—ì„œ ì‚¬ìš©í•˜ë˜ `cd`ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤. í•´ë‹¹ ê²½ë¡œë¡œ ì´ë™í•©ë‹ˆë‹¤. ì´ë™í•œ ë’¤ì— `RUN`, `CMD`ëŠ” `WORKDIR`ì˜ ë””ë ‰í† ë¦¬ ê¸°ì¤€ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

`EXPOSE`ëŠ” í¬íŠ¸ë¥¼ ì§€ì •í•´ì„œ ë…¸ì¶œì‹œí‚µë‹ˆë‹¤. `ENV`ëŠ” í™˜ê²½ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ë©° `ENV [name]=[value]`ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

`COPY`ëŠ” ë¡œì»¬ì˜ ë””ë ‰í† ë¦¬ì—ì„œ í•´ë‹¹ ì´ë¯¸ì§€ì˜ ë””ë ‰í† ë¦¬ë¡œ íŒŒì¼ì„ ë³µì‚¬ì‹œí‚µë‹ˆë‹¤. `COPY local_directory image_directory`

```bash
$ podman build -t test .
```

`podman build --help`ë¥¼ ì…ë ¥í•˜ë©´ ë” ë§ì€ ì˜µì…˜ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. podman buildëŠ” ì´ë¯¸ì§€ë¡œ ë¹Œë“œí•˜ê² ë‹¤ëŠ” ëª…ë ¹ì´ê³ , -t ì˜µì…˜ì€ í•´ë‹¹ ì´ë¯¸ì§€ì— íƒœê·¸ë¥¼ ë¶™ì¸ë‹¤ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. ì €ëŠ” testë¼ëŠ” íƒœê·¸ë¥¼ ë¶™ì˜€ìœ¼ë©°, ê·¸ ë’¤ì— ì˜¤ëŠ” "."ì€ í˜„ì¬ í„°ë¯¸ë„ì´ ìˆëŠ” ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  íŒŒì¼ì„ ë¹Œë“œí•˜ê² ë‹¤ëŠ” ëœ» ì…ë‹ˆë‹¤.

ë‹¤ë¥¸ ì˜ˆë¡œ ìš°ë¶„íˆ¬ 20.04ë²„ì „ ì´ë¯¸ì§€ë¥¼ ë‹¹ê²¨ì™€ì„œ ì»¨í…Œì´ë„ˆë¡œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ë„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

```bash
$ podman pull ubuntu:20.04
```

ì…ë ¥í•˜ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ ê³¼ì •ê³¼ ì´ë¯¸ì§€ ì•„ì´ë””ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.

![command line](https://user-images.githubusercontent.com/71887242/201461262-9f431db4-e397-457b-a426-c58fe836a1f7.png)

ê·¸ ë‹¤ìŒ ì•„ë˜ì˜ ëª…ë ¹ì„ ì…ë ¥í•˜ë©´ ì»¨í…Œì´ë„ˆê°€ ëŒ€í™”í˜• ëª¨ë“œì—ì„œ ì‹¤í–‰ ë  ê²ƒì…ë‹ˆë‹¤. `-i`ì˜µì…˜ì´ `--interactive`ì˜ ì¶•ì•½í˜•ì´ê³ , `STDIN`ì„ ìœ ì§€í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.

```bash
$ podman run -it docker.io/library/ubuntu:20.04
```

`nginx`ë‚˜ `db`ê´€ë ¨í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ì •í•˜ê³ ì í•  ë•ŒëŠ” `dockerfile`ë¡œ ê¸°ë³¸ ì„¸íŒ…ì„ í•œ í›„ ì»¨í…Œì´ë„ˆì— ì ‘ê·¼í•´ì„œ ì§ì ‘ íŒŒì¼ì„ ìˆ˜ì •í•˜ëŠ” ë“±ì˜ ê³¼ì •ì„ ê±°ì¹˜ë©´ ë©ë‹ˆë‹¤. ê°„ë‹¨í•œ ì˜ˆì œë¡œ `httpd`ë¡œ ì •ì  ì›¹ì‚¬ì´íŠ¸ë¥¼ êµ¬ë™ì‹œí‚¤ëŠ” ì˜ˆë¥¼ ë³´ê² ìŠµë‹ˆë‹¤.

ë‹¨ìˆœí•˜ê²Œ `html`ì— "hello world"ë¥¼ ì €ì¥í•˜ê³  `dockerfile`ì„ ì‘ì„±í•´ì„œ ì»¨í…Œì´ë„ˆì— ì˜¬ë ¤ ì‹¤í–‰, ì¤‘ì§€í•˜ëŠ” ê²ƒì„ ê´€ë¦¬í•˜ëŠ” ì˜ˆì œë¥¼ ë³´ê³  ë§ˆë¬´ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.

```dockerfile
FROM ubuntu:22.04

ENV NODE_VERSION=18.11.0
RUN apt-get update && apt-get install -y curl apache2
RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
ENV NVM_DIR=/root/.nvm
RUN . "$NVM_DIR/nvm.sh" && nvm install ${NODE_VERSION}
RUN . "$NVM_DIR/nvm.sh" && nvm use v${NODE_VERSION}
RUN . "$NVM_DIR/nvm.sh" && nvm alias default v${NODE_VERSION}
ENV PATH="/root/.nvm/versions/node/v${NODE_VERSION}/bin/:${PATH}"
RUN npm install -g npm@9.1.1
RUN node --version
RUN npm --version

COPY . .

RUN npm install vite http-server -g
RUN npm install

RUN vite build --emptyOutDir

RUN cp ./dist/* /var/www/html/

# EXPOSE 80

CMD [ "/usr/sbin/apache2ctl", "-DFOREGROUND"]
```

ì €ëŠ” "ìš°ë¶„íˆ¬ 22.04ë²„ì „"ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ "FROM"ì— "ubuntu:22.04"ë¥¼ ì…ë ¥í–ˆìŠµë‹ˆë‹¤. **FROMì€ í•„ìˆ˜ ê°’** ì…ë‹ˆë‹¤.

`FROM`ì„ í†µí•´ ì§€ì •í•œ ê¸°ë³¸ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê²Œ ë©ë‹ˆë‹¤. `dockerfile`ì´ ëª¨ë‘ ì‘ì—…ì„ ëë‚´ê³  ë‚˜ë©´ `podman image list`ë¥¼ í†µí•´ ëª©ë¡ì„ ë³´ë©´ `ubuntu:22.04` ì´ë¯¸ì§€ê°€ ê°™ì´ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•  ë•ŒëŠ” `ENV`ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°ìš”, ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” NODE_VERSIONì„ ì…ë ¥í•˜ê³ , apt-getì„ ì—…ë°ì´íŠ¸ í•œ í›„ì— ì›í•˜ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. nvmì„ ì‚¬ìš©í•˜ê³ ì í•˜ê¸° ë•Œë¬¸ì— curlì„ ë°›ê³ , httpdë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ apache2 íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

curlë¡œ nvmì„ ì„¤ì¹˜í•˜ê³  í™˜ê²½ë³€ìˆ˜ NVM_DIRë¥¼ ì„¤ì •í•˜ê³  nvm.shì„ ì‹¤í–‰í•´ì„œ nvmì„ ì•¡ì„¸ìŠ¤í•˜ê³  ì„¤ì •í•´ë’€ì–´ NODE_VERSION í™˜ê²½ë³€ìˆ˜ë¥¼ í†µí•´ ì›í•˜ëŠ” ë²„ì „ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

í•´ë‹¹ ë²„ì „ì„ ì‚¬ìš©í•˜ê³ , nvmì˜ ê¸°ë³¸ ì‚¬ìš© ë²„ì „ì„ ì§€ì •í•œ ë²„ì „ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. PATHí™˜ê²½ ë³€ìˆ˜ë¥¼ ì§€ì •ëœ ë²„ì „ì˜ ë””ë ‰í† ë¦¬ë¡œ ì„¤ì •í•˜ê³  11ë²ˆ ë¼ì¸ì—ì„œ npmì´ 2022-11-09 ì¼ì ê¸°ì¤€ìœ¼ë¡œ 9.1.1 ë²„ì „ì´ ë˜ì—ˆê¸° ë•Œë¬¸ì— ë²„ì „ì„ ë§ì¶°ì¤ë‹ˆë‹¤. ê·¸ ë°‘ìœ¼ë¡œ nodeë²„ì „ê³¼ npm ë²„ì „ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ì°ì—ˆìŠµë‹ˆë‹¤.

15ë²ˆ ë¼ì¸ì—ì„œ COPYë¥¼ í†µí•´ í„°ë¯¸ë„ì´ ìœ„ì¹˜í•œ ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  íŒŒì¼ì„ imageì˜ í˜„ì¬ ìœ„ì¹˜í•œ workdirì— ë³µì‚¬í•©ë‹ˆë‹¤.

imageê°€ ë¹Œë“œë  ë•Œ workdirì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ê³ ì í•œë‹¤ë©´ `RUN ls`ë¥¼ ì‹¤í–‰í•´ì„œ í™•ì¸í•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.

http-serverëŠ” ë¬´ì‹œí•˜ì…”ë„ ë©ë‹ˆë‹¤. ì €ëŠ” viteë¥¼ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— viteë¥¼ ì „ì—­ìœ¼ë¡œ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆë‹¤ë©´ `npm install`ì„ ì‹¤í–‰í•˜ê³ , vite buildë¥¼ í•´ì¤ë‹ˆë‹¤. httpdë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— vite buildí•œ ê²°ê³¼ë¬¼ì´ dist ë””ë ‰í† ë¦¬ì— ë‹´ê¸°ë¯€ë¡œ dist cpëª…ë ¹ì„ í†µí•´ httpdì— ì˜í•´ ì‹¤í–‰ë˜ëŠ” ë””ë ‰í† ë¦¬ì— ë³µì‚¬ì‹œì¼œì¤ë‹ˆë‹¤.

ê·¸ë¦¬ê³  EXPOSEë¡œ í¬íŠ¸ë¥¼ ì§€ì •í•´ ì¤„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤ë§Œ, ì €ëŠ” 80í¬íŠ¸ë¡œ ê·¸ëŒ€ë¡œ ì¤„ ê²ƒì´ê¸° ë•Œë¬¸ì— ì£¼ì„ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ CMDê°€ ìˆëŠ”ë°ìš”, RUNê³¼ ë‹¤ë¥¸ ì ì€ RUNì€ ë¹Œë“œ ì‹œì— ì‹¤í–‰ë˜ì§€ë§Œ CMDëŠ” ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì— ì‹¤í–‰ëœë‹¤ëŠ” ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤. `ENTRYPOINT` ë˜í•œ ìœ ì‚¬í•œ ê²ƒìœ¼ë¡œ ì•Œê³  ìˆì§€ë§Œ ì •í™•í•œ ì°¨ì´ì ì€ ë‹¤ìŒì— ë‹¤ë£¨ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  `CMD`ì™€ `ENTRYPOINT` ë‘˜ ë‹¤ í•œ dockerfileì— í•œë²ˆ ì”© ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆìŠµë‹ˆë‹¤.

ì—¬í•˜íŠ¼, CMDë¡œ httpdë¥¼ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ë¬¸ì„ ë‘ê³  ì´ë¯¸ì§€ ë¹Œë“œë¥¼ í•©ë‹ˆë‹¤.

```bash
$ podman build -t test .
```

ìœ„ ëª…ë ¹ë¬¸ ì„¤ëª…ì€ ì´ë¯¸ ìœ„ì—ì„œ ì–¸ê¸‰í–ˆê¸° ë•Œë¬¸ì— ìƒëµí•©ë‹ˆë‹¤. ë¹Œë“œê°€ ì™„ë£Œë˜ë©´ í™•ì¸ì„ í•´ë´…ì‹œë‹¤.

```bash
$ podman image list
```

ê·¸ëŸ¬ë©´ ë‘ ê°€ì§€ ì´ë¯¸ì§€ê°€ ìˆìŠµë‹ˆë‹¤. í•˜ë‚˜ëŠ” ìš°ë¶„íˆ¬ ê¸°ë³¸ ì´ë¯¸ì§€ì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ë°©ê¸ˆ ë¹Œë“œí•œ dockerfileë¡œ ë¹Œë“œí•œ ì´ë¯¸ì§€ ì…ë‹ˆë‹¤.

ì´ì œ ì»¨í…Œì´ë„ˆë¥¼ ë“±ë¡í•´ì„œ ì‹¤í–‰í•˜ê³  ì¤‘ì§€í•˜ëŠ” ê²ƒì„ ë³´ê² ìŠµë‹ˆë‹¤.

```bash
$ podman run -d -p 5000:80 --name test-app test
```

`-d`ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆë¥¼ ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰í•˜ê³  ì»¨í…Œì´ë„ˆ IDë¥¼ ì¶œë ¥í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. `-p`ì˜µì…˜ì€ í¬íŠ¸ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì‚¬ìš© ì˜ˆë¡œëŠ” ìœ„ì™€ ê°™ì´ `ì™¸ë¶€ì ‘ê·¼í¬íŠ¸:ì»¨í…Œì´ë„ˆë‚´ë¶€í¬íŠ¸`ê°€ ìˆê³ , `5000:80/tcp`, `[::]:5000:80/tcp` ë“±ì´ ìˆìŠµë‹ˆë‹¤. ìì‹ ì—ê²Œ ì í•©í•œ í¬íŠ¸í¬ì›Œë”©ì„ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤. `--name`ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì— ì´ë¦„ì„ ë¶™ì´ëŠ” ê²ƒì´ê³ , ê·¸ ë’¤ì— "test"ëŠ” ì•„ê¹Œ ì§€ì •í•œ imageì˜ íƒœê·¸ ë„¤ì„ì…ë‹ˆë‹¤. ì¦‰, testì´ë¯¸ì§€ë¡œ test-appì»¨í…Œì´ë„ˆë¥¼ ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰í•˜ëŠ”ë°, 5000ë²ˆ í¬íŠ¸ë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— 80í¬íŠ¸ë¡œ ì—°ê²°í•´ì„œ ì‹¤í–‰í•˜ê² ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

ë¡œê·¸ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì‹¤í–‰, ì¤‘ì§€ ëª…ë ¹ì„ ë‚´ë¦¬ë ¤ë©´ ì•„ë˜ë¥¼ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

```bash
# containerë¥¼ ë¶™ì´ê³  logs í˜¹ì€ logs
# ë’¤ì—ëŠ” ì»¨í…Œì´ë„ˆ ì´ë¦„ìœ¼ë¡œ ë¡œê·¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
$ podman [container] logs test-app
# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
$ podman [container] start test-app
# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
$ podman [container] stop test-app
```

ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•˜ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ê±´ë“œë ¤ì•¼í•œë‹¤ë©´ podman --helpë¥¼ ì ê·¹ í™œìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.

## ë§ˆë¬´ë¦¬

podmanì„ ì²˜ìŒ ì ‘í•œê²Œ ê·¸ì €ê»˜ì¸ë° ë§ì€ ê²ƒì„ ì°¾ì•„ë³´ê³  ìŠµë“í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ë‹¨ê¸°ê°„ì— ì–¼ë§ˆë‚˜ í„°ë“í•˜ëƒë³´ë‹¤ëŠ” ì–¼ë§ˆë‚˜ ì‹¬ë„ìˆê²Œ ì´í•´ë¥¼ í•˜ëŠ” ê²ƒì´ ìƒˆë¡œìš´ ê¸°ìˆ  ë˜ëŠ” ê¸°ì¡´ì˜ ê¸°ìˆ ì„ ë°°ìš°ëŠ” ê²ƒì—ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì´ ì•„ë‹Œê°€ ìƒê°í•©ë‹ˆë‹¤. ë§ì€ ê²ƒì„ ì ‘í–ˆë‹¤ í•´ë„ ì†Œí™” ê°€ëŠ¥í•œ ì´í•´ë„ê°€ ì—†ë‹¤ë©´ ë¬´ìš©ì§€ë¬¼ì´ë¼ ìƒê°í•©ë‹ˆë‹¤.

podmanì„ ìŠ¤í„°ë””í•˜ë©´ì„œ CLIë¥¼ ì“°ê³ ìí•˜ëŠ” ìœ í˜¹ì´ ìˆì—ˆì§€ë§Œ ìš”ì¦˜ ì»¨í…Œì´ë„ˆì™€ SSHë¥¼ ë‹¤ë£¨ë‹¤ë³´ë‹ˆ ì»¤ë©˜ë“œë¼ì¸ì´ ì´ì œëŠ” GUIë¥¼ ë³´ëŠ” ê²ƒë³´ë‹¤ í¸í•©ë‹ˆë‹¤ ğŸ˜‚

ê¸°ìˆ ì„ ìµíˆê³  ì‚¬ìš©ë²•ì„ í•˜ëŠ” ê²ƒì„ ëˆ„êµ¬ë‚˜ í•  ìˆ˜ ìˆì§€ë§Œ ì´ ê¸°ìˆ ì„ ê°€ì§€ê³  ì–´ë–»ê²Œ ëª¨ë¸ì„ êµ¬ì„±í•˜ê³  í™œìš©í•˜ëŠ”ì§€ëŠ” ë°°ì›€ë³´ë‹¤ëŠ” ë§ì€ ì‹œë„ê°€ í•„ìš”í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. reactë‚˜ nodeë¥¼ ìŠ¤í„°ë””í•  ë•Œë„ ë§ˆì°¬ê°€ì§€ì´ì§€ë§Œ ë” ë§ì€, ìƒˆë¡œìš´ ê¸°ìˆ ì„ ê³„ì†í•´ì„œ ë°°ìš°ë˜ ë¹„ì¤‘ì„ ê±°ê¸°ì— ë‘ì§€ì•Šê³  í˜„ì¬ ê°€ì§„ ê¸°ìˆ ë¡œ ì–¼ë§ˆë‚˜ ë§ì€ ì‚¬ìš©ìë¥¼ ì„œë¹„ìŠ¤í•  ìˆ˜ ìˆì„ì§€, ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì„±í•  ë•Œ ë¬´ì—‡ì„ ê³ ë ¤í•˜ê³  ì–´ë–¤ ì„œë²„ ëª¨ë¸ì´ í•„ìš”í•œì§€ ê³ ë¯¼í•˜ê¸° ìœ„í•´ ë…¸ë ¥í•©ë‹ˆë‹¤.

ì†ëœ ë§ë¡œ ì´ ì§¬ì— ì„œë²„ ëª¨ë¸ì„ ìƒê°í•˜ëŠ”ê²Œ ìš°ìŠµì§€ë§Œ í˜„ì¬ íšŒì‚¬ì˜ íŠ¹ì„±ìƒ ì§€ê¸ˆë¶€í„° í•˜ì§€ ì•Šì„ ìˆ˜ê°€ ì—†ë„¤ìš” ğŸ¥²

> ì˜ëª»ëœ ì •ë³´ê°€ ìˆë‹¤ë©´ ëŒ“ê¸€ë¡œ ì§€ì  ë¶€íƒë“œë¦½ë‹ˆë‹¤! í¬ìŠ¤íŒ…ì´ ë„ì›€ ë˜ì…¨ë‹¤ë©´ ëŒ“ê¸€ë¡œ ë”°ë´‰ì´ë¼ë„ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤ ğŸ˜†

---

ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©

[ë””ì§€í„¸ ê°€ì´ë“œ - Podman vs Docker](https://www.ionos.com/digitalguide/server/know-how/podman-vs-docker/)

[Podman - Introduction](https://darumatic.com/blog/podman_introduction)

[Podman - Getting Started with Podman](https://podman.io/getting-started/)

[Dockerfile references](https://docs.docker.com/engine/reference/builder/)

[npm release notes](https://github.com/npm/cli/releases)

[Dockerfileì—ì„œ PATH í™˜ê²½ë³€ìˆ˜ ì—…ë°ì´íŠ¸](https://www.baeldung.com/ops/dockerfile-path-environment-variable)
