---
slug: "/aws-nginx02/"
date: 2022-08-20 18:52:52 +0000
modified: 2023-09-05 13:19:12 +0000
title: "[AWS] AWS EC2 + NGINX + Spring boot + React í™˜ê²½ 02"
author: Kimson
categories: [deploy]
image: https://user-images.githubusercontent.com/71887242/185749567-71909a12-c91f-4f87-89b9-cd9e4970ec27.png
tags: [aws, ec2, nginx, spring boot, react, til]
description: "AWS EC2 domain ë°œê¸‰ë¶€í„° https ì„¤ì •ê¹Œì§€

1í¸ì—ì„œ ë‹¤ë£¬ ë‚´ìš©ì€ aws ec2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ë¶€í„° í•„ìš”í•œ ê°œë°œí™˜ê²½ ì„¤ì •ê³¼ í†°ìº£ì„œë²„ êµ¬ë™í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³¸ ë‚´ìš©ì´ì—ˆìŠµë‹ˆë‹¤.

ì´ì œ freenomì—ì„œ ë¬´ë£Œ ë„ë©”ì¸ì„ ì–»ì–´ awsì—ì„œ route53ì„¤ì •ê³¼ httpsí”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë¡œë“œë°¸ëŸ°ì„œ ì„¤ì •, ëŒ€ìƒê·¸ë£¹ ì„¤ì • ë“±ì„ ê¸°ë¡í•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤."
featured: true
rating: 4.5
profile: false
published: true
---

# AWS EC2 domain ë°œê¸‰ë¶€í„° https ì„¤ì •ê¹Œì§€

1í¸ì—ì„œ ë‹¤ë£¬ ë‚´ìš©ì€ aws ec2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ë¶€í„° í•„ìš”í•œ ê°œë°œí™˜ê²½ ì„¤ì •ê³¼ í†°ìº£ì„œë²„ êµ¬ë™í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³¸ ë‚´ìš©ì´ì—ˆìŠµë‹ˆë‹¤.

ì´ì œ freenomì—ì„œ ë¬´ë£Œ ë„ë©”ì¸ì„ ì–»ì–´ awsì—ì„œ route53ì„¤ì •ê³¼ httpsí”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë¡œë“œë°¸ëŸ°ì„œ ì„¤ì •, ëŒ€ìƒê·¸ë£¹ ì„¤ì • ë“±ì„ ê¸°ë¡í•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## freenom ë„ë©”ì¸ ì–»ê¸°

[http://na.to/domain/](http://na.to/domain/)ì—ì„œ ë¬´ë£Œ ë„ë©”ì¸ì„ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ì‚¬ìš©í•´ ë³¼ ìˆ˜ëŠ” ìˆì§€ë§Œ AWSì—ì„œ ë°›ì•„ì„œ ì‚¬ìš©í•  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì´ ì—†ê¸° ë•Œë¬¸ì— í˜¹ì‹œë‚˜ í•„ìš”í•œ ë¶„ì´ ìˆë‹¤ë©´ ë§í¬ë¥¼ í†µí•´ ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

freenomì„ ìƒí™œì½”ë”©ë‹˜ ê°•ì¢Œë¥¼ í†µí•´ ì•Œê³ ëŠ” ìˆì—ˆì§€ë§Œ ì‚¬ìš©í•´ ë³¸ ì ì€ ì—†ì—ˆìŠµë‹ˆë‹¤. [ì´ ë§í¬](https://www.freenom.com/en/index.html?lang=en)ë¥¼ ëˆ„ë¥´ì‹œë©´ freenom í˜ì´ì§€ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.

ë“¤ì–´ê°€ì„œ loginì„ í•´ì•¼ ì„œë¹„ìŠ¤ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ”ë°, ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ ìµœê·¼ ë“¤ì–´ ë³€ê²½ëœ ê²ƒì¸ì§€ ëª¨ë¥´ê² ìœ¼ë‚˜ íšŒì›ê°€ì… ë²„íŠ¼ ìì²´ê°€ ì—†ìŠµë‹ˆë‹¤. ì €ì˜ ê²½ìš°ëŠ” social loginì¡°ì°¨ ì‘ë™í•˜ì§€ ì•Šì•„ì„œ ì¡°ê¸ˆ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ íšŒì›ê°€ì… ì ˆì°¨ë¥¼ ë°Ÿì•˜ìŠµë‹ˆë‹¤.

![freenom 1](https://user-images.githubusercontent.com/71887242/185748192-0a8c65c2-c5c8-4f5a-9d7d-0f93706d2984.png)

ë³¸ì¸ì´ ì‚¬ìš©í•  ë„ë©”ì¸ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ìœ„ì˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ì…ë ¥í•´ì„œ ê°€ëŠ¥í•œì§€ ê²€ìƒ‰í•©ë‹ˆë‹¤.

![freenom 2](https://user-images.githubusercontent.com/71887242/185748273-1ddb0f86-f4de-4709-be7e-782d46587147.png)

ê°€ëŠ¥í•œ ë„ë©”ì¸ì´ë©´ `checkout`ì„ í´ë¦­í•©ë‹ˆë‹¤.

![freenom 3](https://user-images.githubusercontent.com/71887242/185748317-6e400f4b-fa89-4020-be8e-c88ff7ef6039.png)

`continue`ë¡œ ì§„í–‰í•˜ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë¡œê·¸ì¸ í•˜ë¼ëŠ” ë¶€ë¶„ì´ ëœ¨ëŠ”ë° ì™¼ìª½ í¸ì— ì›í•˜ë˜ íšŒì›ê°€ì… ë¹„ìŠ¤ë¬´ë¦¬í•œ ì¸í’‹ì´ ìƒê¹ë‹ˆë‹¤.

![freenom 4](https://user-images.githubusercontent.com/71887242/185748374-6c008d49-3858-4603-b199-cfaaa9a434ba.png)

ë³¸ì¸ì˜ ì´ë©”ì¼ì„ ì ê³  íšŒì›ê°€ì…í•´ì„œ ê²€ìƒ‰í–ˆë˜ ë„ë©”ì¸ì„ ë‹¤ì‹œ ê²€ìƒ‰í•´ì„œ ì„ íƒí•˜ê³  ë„ë©”ì¸ì„ ë°›ìœ¼ë©´ ë˜ê² ìŠµë‹ˆë‹¤.

ë„ë©”ì¸ì„ ë°œê¸‰í•˜ê³ ë‚˜ì„œ 90ì¼ê¹Œì§€ ìœ íš¨í•˜ê³  90ì¼ì´ ì§€ë‚˜ê¸° ì „ì— ë°˜ë“œì‹œ ì—°ì¥ í˜¹ì€ ì œê±°ë°”ëë‹ˆë‹¤. 90ì¼ì´ ì§€ë‚˜ë©´ ìœ ë£Œë¡œ ë°”ë€Œê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

`Services`íƒ­ì— `My Domains`ë¥¼ í´ë¦­í•˜ì‹œë©´ ë“±ë¡í•œ ë„ë©”ì¸ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë‚´ìš©ì€ ì´í›„ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ë’¤ì—ì„œ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.

## nginx ì„œë²„ ì„¤ì •ì„ í•´ë³´ì

ì œ ê²½ìš°ëŠ” spring boot + react(typescript) ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ë‹´ì•˜ìŠµë‹ˆë‹¤. sslì€ awsì˜ certificate managerì—ì„œ ë°œê¸‰ë°›ì€ ì¸ì¦ì„œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

mobaXtermì„ ì‚¬ìš©í–ˆìœ¼ë¯€ë¡œ mobaXterm ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

mobaXtermì„ ì¼œê³  ìì‹ ì˜ í¼ë¸”ë¦­ ipv4ì£¼ì†Œë¥¼ ê°€ì ¸ì™€ ì„¸ì…˜ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì€ ì´ì „ í¸ì—ì„œ í–ˆê¸° ë•Œë¬¸ì— ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.

mobaXterm ì ‘ì† í›„ nginxë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash
sudo yum install nginx
# or
sudo amazon-linux-extras install nginx1
```

ì²« ë²ˆì§¸ ëª…ë ¹ì¤„ë¡œ ì„¤ì¹˜ë˜ì§€ ì•Šê³  `sudo amazon-linux-extras install nginx1`ì„ ì•Œë ¤ì¤€ë‹¤ë©´ í•´ë‹¹ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•˜ë©´ ë©ë‹ˆë‹¤. ì €ì˜ ê²½ìš°ëŠ” ë‘˜ ë‹¤ ë©ë‹ˆë‹¤.

ì œëŒ€ë¡œ ì„¤ì¹˜ê°€ ë˜ì—ˆìœ¼ë©´ ì•„ë˜ ëª…ë ¹ì¤„ë¡œ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```bash
sudo nginx -t
```

ì´ì œ nginx ì„œë²„ë¥¼ ì„¤ì •í•˜ëŠ”ë° ë‹¤ë¥¸ ë¸”ë¡œê·¸ë¥¼ ì°¸ì¡°í•˜ì˜€ì§€ë§Œ ì œê°€ í•˜ê³ ì í•˜ëŠ” ë°©í–¥ê³¼ ë‹¬ë¼ ì°¸ê³ í•˜ë©´ì„œ ì¡°ê¸ˆ ì”© ë³€ê²½í•´ì„œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ëª…í™•í•˜ì§€ ì•Šì€ ì •ë³´ì´ë‹ˆ ì°¸ê³ ë§Œ í•˜ì‹œê³  ë” ì •í™•í•œ ê¸€ì„ ë³´ì‹œëŠ” ê²ƒì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.

ì´ˆê¸°ì— ìˆì–´ì•¼í•  ë””ë ‰í† ë¦¬ê°€ ì—†ì–´ì„œ ë§Œë“¤ê³  ì‹œì‘í–ˆìŠµë‹ˆë‹¤.

```bash
sudo mkdir /etc/nginx/sites-available/
sudo mkdir /etc/nginx/sites-enabled/
```

ëŒ€ë¶€ë¶„ì˜ ë¸”ë¡œê±°ë“¤ì´ ìœ„ ëª…ë ¹ì¤„ì˜ ë””ë ‰í† ë¦¬ì— confë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ì…¨ëŠ”ë° ì œê°€ nginxë¥¼ ì´ë²ˆì— ì²˜ìŒ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ ì–´ë–¤ ì›ë¦¬ë¡œ ì„¤ì •í•˜ê³  ì‚¬ìš©í•˜ëŠ”ì§€ ëª…í™•íˆ ëª¨ë¦…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì €ëŠ” /etc/nginx/nginx.conf íŒŒì¼ì„ ì§ì ‘ ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

```bash
sudo vi /etc/nginx/nginx.conf
```

vië¥¼ ì²˜ìŒ ì‚¬ìš©í•˜ì‹ ë‹¤ë©´ ê°„ë‹¨í•˜ê²Œ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤. vië¡œ íŒŒì¼ì„ ì¼œë©´ ë‚´ìš©ì„ ìˆ˜ì • í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `i`ìíŒì„ ëˆ„ë¥´ë©´ insertëª¨ë“œê°€ ë˜ì–´ì„œ ë‚´ìš©ì„ í¸ì§‘ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´í›„ ì €ì¥í•˜ê³  ë‚˜ê°€ë ¤ë©´ escë¥¼ í•œ ë²ˆ ëˆ„ë¥´ê³  `:wq`ë¼ê³  ì…ë ¥í•œ í›„ ì—”í„°ë¥¼ ì¹˜ë©´ ì €ì¥í•˜ê³  íŒŒì¼ ìˆ˜ì •ì„ ë¹ ì ¸ë‚˜ì˜µë‹ˆë‹¤.

ì•„ë˜ conf ì„¤ì •ì„ ì°¸ê³  í•˜ì…”ì„œ ë³¸ì¸ì˜ ìƒí™©ì— ë§ê²Œ ìˆ˜ì •í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ê¸°ë³¸ confíŒŒì¼ì—ì„œ ê±´ë“œë¦° ë¶€ë¶„ì€ TLSë¥¼ í™œì„±í™”í•˜ê³  80í¬íŠ¸ë¥¼ ë°”ë¼ë³´ëŠ” ì„œë²„ ì„¤ì •ì—ì„œ ë„ë©”ì¸ ì…ë ¥ê³¼ locationì—ì„œ httpsë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ ì„¤ì •í•´ì£¼ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. ê·¸ ì™¸ì—ëŠ” ê¸°ì¡´ ì„¤ì •ê³¼ ê±°ì˜ ë™ì¼í•©ë‹ˆë‹¤.

```nginx
# For more information on configuration, see:
#   * Official English Documentation: http://nginx.org/en/docs/
#   * Official Russian Documentation: http://nginx.org/ru/docs/

user nginx;
worker_processes auto;
error_log /var/log/nginx/error.log;
pid /run/nginx.pid;

# Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.
include /usr/share/nginx/modules/*.conf;

events {
    worker_connections 1024;
}

http {
    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;

    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   65;
    types_hash_max_size 4096;

    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;

    # Load modular configuration files from the /etc/nginx/conf.d directory.
    # See http://nginx.org/en/docs/ngx_core_module.html#include
    # for more information.
    include /etc/nginx/conf.d/*.conf;
    # include /rtc/nginx/sites-enabled/*;
    # ì €ëŠ” ì„¤ì •ì´ ì–´ë ¤ì›Œ ì•ˆì“°ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

    server {
        listen       80;
        listen       [::]:80;
        server_name  kimson.domain www.kimson.domain;
#        root         /usr/share/nginx/html;

        # Load configuration files for the default server block.
        include /etc/nginx/default.d/*.conf;

        location / {
                allow all;
                return 301 https://$host$request_uri;
        }

#        error_page 404 /404.html;
#        location = /404.html {
#        }

#        error_page 500 502 503 504 /50x.html;
#        location = /50x.html {
#        }
    }

# Settings for a TLS enabled server.

    server {
        listen       443 ssl http2;
        listen       [::]:443 ssl http2;
        server_name  kimson.domain www.kimson.domain;
#        root         /usr/share/nginx/html;

        ssl_certificate /etc/pki/nginx/custom.crt;
        ssl_certificate_key /etc/pki/nginx/private/custom.key;
        # ssl certificate keyì™€ crtíŒŒì¼ ìƒì„±ì€ í•˜ë‹¨ ë§í¬ ì°¸ì¡°

        ssl_session_cache shared:SSL:1m;
        ssl_session_timeout  10m;
        ssl_ciphers HIGH:!aNULL:!MD5;
        ssl_prefer_server_ciphers on;

         # Load configuration files for the default server block.
#        include /etc/nginx/default.d/*.conf;

        location / {
                proxy_pass http://<000.000.000.000>:8080;
                proxy_redirect off;
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Host $server_name;
                proxy_set_header X-Forwarded-Proto $scheme;

                proxy_buffer_size 128k;
                # ë²„í¼ ì„¤ì •ì˜ ë‚´ìš©ì€ í¬ìŠ¤íŒ… í•˜ë‹¨ ë§í¬ ì°¸ì¡°
                proxy_buffers 4 256k;
                # ë²„í¼ ì„¤ì •ì˜ ë‚´ìš©ì€ í¬ìŠ¤íŒ… í•˜ë‹¨ ë§í¬ ì°¸ì¡°
                proxy_busy_buffers_size 256k;
                # ë²„í¼ ì„¤ì •ì˜ ë‚´ìš©ì€ í¬ìŠ¤íŒ… í•˜ë‹¨ ë§í¬ ì°¸ì¡°
        }

#        error_page 404 /404.html;
#            location = /40x.html {
#        }

#        error_page 500 502 503 504 /50x.html;
#            location = /50x.html {
#        }
    }

}
```

ì„¤ì •ì´ ëë‚¬ë‹¤ë©´ nginxë¥¼ reloadí•˜ê³  restartí•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

```bash
sudo service nginx reload
sudo service nginx restart
```

ë§Œì¼ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šê³  ì—ëŸ¬ë¥¼ ë‚¸ë‹¤ë©´ confíŒŒì¼ì— ì˜¤íƒ€ê°€ ë‚œ ë¶€ë¶„ì´ ìˆê±°ë‚˜ ê°’ì´ ì˜ëª» ë“¤ì–´ê°„ ë¶€ë¶„ì´ ìˆì„ í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤.

## certificate managerë¡œ ssl ë°œê¸‰

ìˆœì„œê°€ ì—­ìˆœì´ì§€ë§Œ ì¶”í›„ ìˆœì„œë¥¼ ë§ì¶° ì •ë¦¬í•´ë‘ê² ìŠµë‹ˆë‹¤. awsì— ì ‘ì†í•´ì„œ certificate managerë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

![cert 1](https://user-images.githubusercontent.com/71887242/185749567-71909a12-c91f-4f87-89b9-cd9e4970ec27.png)

ìš”ì²­ì„ í´ë¦­í•´ì„œ ìƒˆë¡œìš´ ì¸ì¦ì„œë¥¼ ë§Œë“­ë‹ˆë‹¤.

![cert 2](https://user-images.githubusercontent.com/71887242/185749613-58577b85-e042-47a5-b9e1-3e80e82af4fa.png)

freenomì—ì„œ ë°œê¸‰í•œ ë„ë©”ì¸ì„ ì ì–´ë„£ê³  DNS ê²€ì¦ë°©ì‹ìœ¼ë¡œ ìš”ì²­ì„ í•©ë‹ˆë‹¤.

![cert 3](https://user-images.githubusercontent.com/71887242/185760755-c7664c6c-57f9-4ff9-88ff-c144b255a28c.png)

ì´ˆê¸°ì— ë¶€ì ê²©ìœ¼ë¡œ ëœ¨ëŠ” ê²ƒì€ ë¬´ì‹œí•˜ì…”ë„ ë©ë‹ˆë‹¤. ì´í›„ ì ê²©ìœ¼ë¡œ ë³€í•©ë‹ˆë‹¤. ê·¸ëŒ€ë¡œ Route53ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

DNS ê´€ë¦¬ì—ì„œ í˜¸ìŠ¤íŒ…ì˜ì—­ì„ ìƒì„±í•©ë‹ˆë‹¤. awsì—ì„œ ë„ë©”ì¸ì„ ì‚¬ëŠ” ë°©ë²•ì´ ì‰½ë‹¤ê³ ëŠ” í•©ë‹ˆë‹¤ë§Œ ëˆì´ ì—†ìœ¼ë‹ˆ freenomì—ì„œ ë°›ì€ ë¬´ë£Œ ë„ë©”ì¸ì„ ì§ì ‘ ì„¤ì •í•´ë´…ì‹œë‹¤.

![route53 1](https://user-images.githubusercontent.com/71887242/185749846-fb31cee6-45cc-42f1-ac83-ded9837b30a1.png)

`í˜¸ìŠ¤íŒ… ì˜ì—­ ìƒì„±`ì„ í´ë¦­í•©ë‹ˆë‹¤. ë„ë©”ì¸ ì´ë¦„ì„ ë™ì¼í•˜ê²Œ ë„£ê³  ìƒì„±í•©ë‹ˆë‹¤.

![route53 2](https://user-images.githubusercontent.com/71887242/185749935-4e956f31-533f-403d-82b7-cf6edb6647b8.png)

ìƒì„±í•˜ê³ ë‚˜ë©´ ì•„ë˜ì™€ ê°™ì´ SOAì™€ NSë ˆì½”ë“œê°€ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ NSê°€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì´ê³  ì•ì„œ ë§í•œ freenomì˜ ë„ë©”ì¸ ê´€ë¦¬ì—ì„œ ì‚¬ìš©í•´ì•¼í•  ë…€ì„ì…ë‹ˆë‹¤.

![route53 3](https://user-images.githubusercontent.com/71887242/185749985-f68b86ae-aa87-4fa8-9ac7-77e5b7c61fac.png)

freenomìœ¼ë¡œ ê°€ê¸°ì— ì•ì„œ ë ˆì½”ë“œ ìƒì„±ì„ í•´ì•¼í•˜ëŠ”ë°ìš”. ê°„ìˆœí•˜ê²Œ ipì— ë„ë©”ì¸ì„ ì—°ê²°í•˜ë ¤ë©´ Aìœ í˜• ë ˆì½”ë“œì— íŠ¸ë˜í”½ ë¼ìš°íŒ… ëŒ€ìƒ ê°’ì„ ipv4ì£¼ì†Œë¥¼ ì£¼ë©´ ë˜ì§€ë§Œ ë¡œë“œë°¸ëŸ°ì„œë¥¼ í†µí•´ì„œ httpsë¡œ ë„ë©”ì¸ì„ ëŒë¦¬ê³  ì‹¶ê¸° ë•Œë¬¸ì— ë¡œë“œë°¸ëŸ°ì„œë¥¼ ìƒì„±í•´ì•¼í•©ë‹ˆë‹¤. ë¡œë“œë°¸ëŸ°ì„œëŠ” ec2ì½˜ì†”ì— ì ‘ì†í•˜ë©´ ì‚¬ì´ë“œë°” í•˜ë‹¨ì— ìˆìŠµë‹ˆë‹¤. ë¡œë“œë°¸ëŸ°ì„œ ì„¤ì •ì— ì•ì„œ ëŒ€ìƒê·¸ë£¹ì´ ì—†ë‹¤ë©´ ëŒ€ìƒê·¸ë£¹ì„ ë¨¼ì € ìƒì„±í•˜ê³  ì§„í–‰í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. êµ³ì´ ìƒê´€ì€ ì—†ìŠµë‹ˆë‹¤ë§Œ í¸ì˜ë¥¼ ìœ„í•´ì„œ ğŸ˜

## ëŒ€ìƒ ê·¸ë£¹

![target group 1](https://user-images.githubusercontent.com/71887242/185750611-0a36d980-d6b2-444e-a44d-1f9f3bed03a8.png)

ëŒ€ìƒ ê·¸ë£¹ ìƒì„±ì„ í´ë¦­í•©ë‹ˆë‹¤.

![target group 2](https://user-images.githubusercontent.com/71887242/185750963-7b1c6142-1553-4edc-9fde-84cc84be18b7.png)

ìœ„ì™€ ê°™ì€ ì„¤ì •ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.

![target group 3](https://user-images.githubusercontent.com/71887242/185759391-ba0fcbef-8dcd-41eb-b482-31e581dd5f7f.png)

ì´í›„ ëŒ€ìƒ ë“±ë¡ ê³¼ì •ì´ ë‚˜ì˜¤ëŠ”ë° ì‚¬ìš©ê°€ëŠ¥í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ 443í¬íŠ¸ë¡œ í¬í•¨ì‹œì¼œ ëŒ€ìƒê·¸ë£¹ì„ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ì œ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ìƒì„±í•˜ëŸ¬ ê°‘ë‹ˆë‹¤.

## ë¡œë“œë°¸ëŸ°ì„œ

![load balancer 1](https://user-images.githubusercontent.com/71887242/185750285-46547b01-b5cf-4bbf-ab88-64573e707f50.png)

ë¡œë“œë°¸ëŸ°ì„œ ìƒì„±ì„ í´ë¦­í•©ë‹ˆë‹¤.

![load balancer 2](https://user-images.githubusercontent.com/71887242/185750331-44e3c6c6-6233-4a2e-b843-05900c83045e.png)

ìœ í˜•ì€ `Application Load Balancer`ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

![load balancer 3](https://user-images.githubusercontent.com/71887242/185751282-41554bab-7eca-43eb-ae55-5e23bf2ae32c.png)

ìœ„ì˜ ì„¤ì •ëŒ€ë¡œ ì­‰ ì§„í–‰í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ ë„¤íŠ¸ì›Œí¬ ë§¤í•‘ ì„¤ì •ì—ì„œ ì„œë¸Œë„· ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë§¤í•‘ì„ ì–´ë–¤ ê²ƒì„ ì„ íƒí•´ì•¼ í•˜ëŠ”ì§€ëŠ” ë³¸ì¸ì˜ ì¸ìŠ¤í„´ìŠ¤ ê°€ìš©ì˜ì—­ì´ ì–´ë””ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ ê¼­ ë³´ì‹œê³  ë§¤í•‘ ì„ íƒí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

ë³´ì•ˆê·¸ë£¹ì€ ì´ì „ í¸ì—ì„œ ì„¤ì •í•œ ë³´ì•ˆê·¸ë£¹ì„ ì°¸ê³ ë°”ëë‹ˆë‹¤. ë¦¬ìŠ¤ë„ˆ ì„¤ì •ì€ HTTPì™€ HTTPS ë¦¬ìŠ¤ë„ˆë¥¼ ì„¤ì •í•˜ëŠ”ë° ëŒ€ìƒê·¸ë£¹ì€ ì•„ê¹Œ ë§Œë“¤ì—ˆë˜ ëŒ€ìƒê·¸ë£¹ì„ ì§€ì •í•©ë‹ˆë‹¤. ë³´ì•ˆ ë¦¬ìŠ¤ë„ˆ ì„¤ì •ì—ì„œ ë³´ì•ˆì •ì±…ì€ ê¶Œì¥ë˜ëŠ” `ELBSecurityPolicy-2016-08`ì„ ì„ íƒí•˜ê³  SSL/TLS ì¸ì¦ì„œëŠ” ì•„ê¹Œ certificate managerì—ì„œ ìš”ì²­í•œ ì¸ì¦ì„œë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

ê·¸ëŸ¬ê³ ë‚˜ì„œ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

ì´ì œ ë¡œë“œ ë°¸ëŸ°ì„œ ìƒì„±ì´ ë˜ì—ˆê³  ë¦¬ìŠ¤ë„ˆë¥¼ í¸ì§‘í•˜ë©´ ë©ë‹ˆë‹¤. í¸ì§‘ ì„¤ì •ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

![80 ë¦¬ìŠ¤ë„ˆ í¸ì§‘](https://user-images.githubusercontent.com/71887242/185751591-cb711065-2ab0-46be-a736-f6180e5cb0bf.png)

![443 ë¦¬ìŠ¤ë„ˆ í¸ì§‘](https://user-images.githubusercontent.com/71887242/185751731-87725af9-a368-4740-b6cf-f164af662865.png)

ì´ì œ ë‹¤ ëë‚˜ ê°‘ë‹ˆë‹¤. ë¦¬ìŠ¤ë„ˆ í¸ì§‘ë„ í–ˆê³  ì´ì œ ëŒ€ìƒê·¸ë£¹ì—ì„œ ëŒ€ìƒ íƒ­ì„ í´ë¦­í•˜ê³  ë“±ë¡í•œ ëŒ€ìƒê·¸ë£¹ì´ ê±´ê°•í•œì§€(?) í™•ì¸í•©ë‹ˆë‹¤. ì•„ì£¼ ê±´ê°•í•©ë‹ˆë‹¤ ğŸ˜Š

![ëŒ€ìƒ ê·¸ë£¹ ê±´ê°•ìƒíƒœ? í™•ì¸](https://user-images.githubusercontent.com/71887242/185751821-b3222865-1a91-49f3-be10-9c1685aabc1b.png)

ì´ ë‹¤ìŒ ë‚´ìš©ì¸ Route53ì—ì„œ í˜¸ìŠ¤íŒ… ì˜ì—­ì— ë¡œë“œë°¸ëŸ°ì„œë¡œ ë¼ìš°íŒ…í•˜ëŠ” ë‚´ìš©ê³¼ freenomì—ì„œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ê³  nginxë¡œ httpsí˜ì´ì§€ë¥¼ ë„ìš°ëŠ” ì‘ì—…ì€ ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.

## ë§ˆë¬´ë¦¬

ìˆœì„œê°€ ì¡°ê¸ˆ ê¼¬ì—¬ìˆê¸°ë„í•˜ê³  ë‚´ìš©ìì²´ê°€ ì •í™•í•œ ë‚´ìš©ì€ ì•„ë‹™ë‹ˆë‹¤. í•˜ì§€ë§Œ ì œê°€ ì§„í–‰í–ˆë˜ ê³¼ì •ì—ì„œ ì˜¤ë¥˜ê°€ ìˆì—ˆê³  ë§ì€ ë¬¸ì œê°€ ìˆì—ˆì§€ë§Œ ì ˆì°¨ìƒìœ¼ë¡œ ë¬¸ì œê°€ ë˜ëŠ” ê²ƒì´ë¼ë©´ íƒ€ ë¸”ë¡œê·¸ì˜ ì •í™•í•œ ë‚´ìš©ì„ ì°¸ê³ í•˜ì‹œëŠ” ê²ƒì„ ê¶Œì¥ ë“œë¦¬ë©° ê°œë°œ í™˜ê²½ê³¼ ë¹Œë“œ ê³¼ì • ë° ì„œë²„ ì„¤ì • ë“±ì˜ ë‚´ìš©ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì–´ë””ê¹Œì§€ë‚˜ ì°¸ê³ ë§Œ í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.

> ê¸¸ì–´ ì§ˆ ê²ƒ ê°™ì•„ ë‹¤ìŒ í¬ìŠ¤íŒ…ì— ê³„ì†í•˜ê² ìŠµë‹ˆë‹¤. [>> NameSpace + https + hosting area ì„¤ì •]

---

ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©

[u-nijë‹˜::Spring Boot + Nginx ì—°ë™í•´ì„œ ë°°í¬í•˜ê¸°](https://velog.io/@u-nij/Spring-Boot-Nginx-%EC%97%B0%EB%8F%99%ED%95%B4%EC%84%9C-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0)

[donchaneeë‹˜::AWS HTTPS êµ¬í˜„ ë° í”„ë¡œì íŠ¸ ê°œê´„](https://velog.io/@donchanee/AWS-HTTPS-%EA%B5%AC%ED%98%84-%EB%B0%8F-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B0%9C%EA%B4%84)

[damiano1027ë‹˜::[Nginx] Nginxì™€ SpringBoot ë‚´ì¥ Tomcat ì—°ë™](https://velog.io/@damiano1027/Nginx-Nginx%EC%99%80-SpringBoot-%EB%82%B4%EC%9E%A5-Tomcat-%EC%97%B0%EB%8F%99)

[Stackoverflow::AWS Load balancer health check: Health checks failed with these codes: [301]](https://stackoverflow.com/questions/60189198/aws-load-balancer-health-check-health-checks-failed-with-these-codes-301)

ë§í¬ ë¶™ì—¬ë„£ëŠ” ì¤‘...
