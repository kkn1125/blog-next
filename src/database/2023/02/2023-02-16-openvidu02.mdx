---
slug: "/openvidu02/"
layout: post
modified: 2023-04-08 16:57:33 +0000
date: 2023-02-27 02:53:51 +0000
title: "[WEBRTC] OpenViduë¥¼ ì‹œì‘í•´ë³´ì 02"
author: Kimson
categories: [javascript]
image: /assets/images/post/covers/TIL-javascript.png
tags: [javascript, webrtc, openvidu, media_server]
description: "OpenVidu ë°°í¬ ë²„ì „ì„ ì‚¬ìš©í•´ë³´ì

ì´ì „ í¬ìŠ¤íŒ…ì—ì„œëŠ” openvidu-dev ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•´ì„œ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ëŠ”ë°ìš”. í¬ìŠ¤íŒ…ì„ ë‹¤ë“¬ì„ ì‹œê°„ì´ ì—†ì–´ ìµœëŒ€í•œ ëª©ì°¨ë¥¼ ì§œë‚´ì–´ ê¸€ì„ ì“°ê³  ìˆì§€ë§Œ ì—¬ì „íˆ ì •ë¦¬ë˜ì§€ ì•Šì•„ ë¶ˆí¸í•˜ê¸° ê·¸ì§€ì—†ìŠµë‹ˆë‹¤. ì•„ë¬´ìª¼ë¡ ë‚´ìš©ì€ ì–´ë””ê¹Œì§€ë‚˜ ì°¸ê³ ë§Œ í•˜ì‹œê³ , ë³¸ ë‚´ìš©ì€ ëª¨ë‘ OpenViduê°€ ì œê³µí•˜ëŠ” ë²”ìœ„ ë‚´ì— ëª¨ë‘ ì„¤ëª…ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— OpenViduë¥¼ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ì„ êµ¬ì¶•í•˜ë©´ì„œ ë§Œë‚¬ë˜ ì—ëŸ¬ ìƒí™©ì„ ì–´ë–»ê²Œ í’€ì–´ë‚˜ê°”ëŠ”ì§€ì— ëŒ€í•´ ì¢€ ë” ì‹ ê²½ì¨ì„œ ì“°ê³ ì í•©ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” OpenViduì˜ ë¬´ë£Œ ë²„ì „ì¸ CEë¥¼ ì‚¬ìš©í•´ì„œ ì˜¨í”„ë ˆë¯¸ìŠ¤ì™€ AWSì„œë²„ì— ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ì•Œì•„ë³´ë©´ì„œ íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ì¤‘ì ìœ¼ë¡œ í¬ìŠ¤íŒ…í•˜ë ¤í•©ë‹ˆë‹¤.

OpenViduëŠ” ì•ì„œ ë§ì”€ë“œë¦° ê²ƒ ì²˜ëŸ¼ 3ê°€ì§€ ë²„ì „ìœ¼ë¡œ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. CE, PRO, ENTERPRISE ì…ë‹ˆë‹¤. ê·¸ ì¤‘ì—ì„œë„ ë¬´ë£Œë¡œ ì œê³µë˜ëŠ” CEë¥¼ ë‹¤ë£° ê²ƒ ì¸ë°ìš”, CEë¥¼ ì˜¨í”„ë ˆë¯¸ìŠ¤ì— ì„¤ì¹˜í•˜ê³  ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸í–ˆëŠ”ì§€ë¥¼ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ì˜¨í”„ë ˆë¯¸ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…ì„ í•˜ê³  AWS ì„œë²„ í™˜ê²½ì—ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤."
featured: true
hidden: false
rating: 4.5
toc: true
profile: false
istop: true
keysum: false
keywords: ""
published: true
---

# OpenVidu ë°°í¬ ë²„ì „ì„ ì‚¬ìš©í•´ë³´ì

ì´ì „ í¬ìŠ¤íŒ…ì—ì„œëŠ” openvidu-dev ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•´ì„œ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ëŠ”ë°ìš”. í¬ìŠ¤íŒ…ì„ ë‹¤ë“¬ì„ ì‹œê°„ì´ ì—†ì–´ ìµœëŒ€í•œ ëª©ì°¨ë¥¼ ì§œë‚´ì–´ ê¸€ì„ ì“°ê³  ìˆì§€ë§Œ ì—¬ì „íˆ ì •ë¦¬ë˜ì§€ ì•Šì•„ ë¶ˆí¸í•˜ê¸° ê·¸ì§€ì—†ìŠµë‹ˆë‹¤. ì•„ë¬´ìª¼ë¡ ë‚´ìš©ì€ ì–´ë””ê¹Œì§€ë‚˜ ì°¸ê³ ë§Œ í•˜ì‹œê³ , ë³¸ ë‚´ìš©ì€ ëª¨ë‘ OpenViduê°€ ì œê³µí•˜ëŠ” ë²”ìœ„ ë‚´ì— ëª¨ë‘ ì„¤ëª…ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— OpenViduë¥¼ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ì„ êµ¬ì¶•í•˜ë©´ì„œ ë§Œë‚¬ë˜ ì—ëŸ¬ ìƒí™©ì„ ì–´ë–»ê²Œ í’€ì–´ë‚˜ê°”ëŠ”ì§€ì— ëŒ€í•´ ì¢€ ë” ì‹ ê²½ì¨ì„œ ì“°ê³ ì í•©ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” OpenViduì˜ ë¬´ë£Œ ë²„ì „ì¸ CEë¥¼ ì‚¬ìš©í•´ì„œ ì˜¨í”„ë ˆë¯¸ìŠ¤ì™€ AWSì„œë²„ì— ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ì•Œì•„ë³´ë©´ì„œ íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ì¤‘ì ìœ¼ë¡œ í¬ìŠ¤íŒ…í•˜ë ¤í•©ë‹ˆë‹¤.

OpenViduëŠ” ì•ì„œ ë§ì”€ë“œë¦° ê²ƒ ì²˜ëŸ¼ 3ê°€ì§€ ë²„ì „ìœ¼ë¡œ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. CE, PRO, ENTERPRISE ì…ë‹ˆë‹¤. ê·¸ ì¤‘ì—ì„œë„ ë¬´ë£Œë¡œ ì œê³µë˜ëŠ” CEë¥¼ ë‹¤ë£° ê²ƒ ì¸ë°ìš”, CEë¥¼ ì˜¨í”„ë ˆë¯¸ìŠ¤ì— ì„¤ì¹˜í•˜ê³  ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸í–ˆëŠ”ì§€ë¥¼ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ì˜¨í”„ë ˆë¯¸ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…ì„ í•˜ê³  AWS ì„œë²„ í™˜ê²½ì—ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

## ê°œë°œ í™˜ê²½

1. fastify (or express)
2. openvidu 2.25.0
3. openvidu-browser 2.25.0
4. openvidu-node-client 2.25.0
5. vanilla (or react)
6. vite
7. docker
8. docker-compose
9. aws ec2 t3.micro * 2 (ê°ê° ì˜¤í”ˆë¹„ë‘, back + front ìš©)
10. nginx

ìœ„ ê°œë°œí™˜ê²½ì„ í† ëŒ€ë¡œ ê·¸ë¦¬ê³  ìˆëŠ” êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

public ipë¥¼ í†µí•´ì„œ ë“¤ì–´ì˜¤ëŠ” 443í¬íŠ¸ë¥¼ nginxë¥¼ í”„ë¡ì‹œ ì—­í• ì„ í•˜ì—¬ ì—¬ëŸ¬ ì„œë²„ë¥¼ ê´€ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, 61.1.1.1 => 192.168.88.200 (local) => 192.168.254.16 (wsl, docker ì‚¬ìš©)ë¡œ ì—°ê²°ë˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

> awsëŠ” ê³¼ê¸ˆì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ê¼­ ë¹„ìš©ê´€ë ¨ ê³„ì‚°ì„ í•˜ì‹œê³  ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ì°¸ê³ ë¡œ awsëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ì§€í•œë‹¤ê³  í•´ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì•„ë‹˜ì„ ì•Œì•„ë‘ì‹œê¸° ë°”ëë‹ˆë‹¤. (ì•„ì˜ˆ ì‚­ì œí•´ì•¼í•©ë‹ˆë‹¤.)

## OpenVidu ì„œë²„ ì˜¨í”„ë ˆë¯¸ìŠ¤ ì„¤ì¹˜

openvidu-devì˜ ê²½ìš°ì™€ ê±°ì˜ ê°™ìŠµë‹ˆë‹¤. ë¨¼ì € OpenViduë¥¼ ì„¤ì¹˜í•˜ê³ , ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
# opt ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ ì„¤ì¹˜í•´ì•¼í•©ë‹ˆë‹¤.
cd /opt
# openvidu ì„¤ì¹˜
curl https://s3-eu-west-1.amazonaws.com/aws.openvidu.io/install_openvidu_latest.sh | bash
```

ê·¸ëŸ¬ë©´ openviduë¼ëŠ” ë””ë ‰í† ë¦¬ê°€ ìƒê¹ë‹ˆë‹¤. ê²½ë¡œëŠ” `/opt/openvidu`ê°€ ë˜ê² ìŠµë‹ˆë‹¤. `openvidu`ë¡œ ì´ë™í•˜ë©´ openvidu íŒŒì¼ê³¼ docker-compose.yml, .env ë“±ì´ ìƒì„±ë˜ëŠ”ë°ìš”, ìš°ë¦¬ê°€ ë‹¤ë£¨ì–´ì•¼ í•  ë¶€ë¶„ì€ ì´ 3ê°€ì§€ì´ì§€ë§Œ íŠ¹íˆë‚˜ .envë¥¼ ìì£¼ ë§Œì§€ê²Œ ë©ë‹ˆë‹¤.

ë„ë©”ì¸(or public ip)ê³¼ ë ˆì½”ë”© ì—¬ë¶€, tls ì„¤ì • ë“±ë“± ì—¬ëŸ¬ê°€ì§€ë¥¼ í•  ìˆ˜ ìˆê³ , ë³€ìˆ˜ë¥¼ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ ì´ë¯¸ ë‹¤ ì„¸íŒ…ì´ ë˜ì–´ìˆìœ¼ë‹ˆ ì„¤ëª…ë§Œ ì˜ ì½ê³  í•„ìš”í•œ ë¶€ë¶„ì˜ ê°’ì„ ìˆ˜ì •í•´ì£¼ê¸°ë©´ í•˜ë©´ ë©ë‹ˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ í•„ìš”í•œ ì„¤ì •ì€ ë°”ë¡œ `DOMAIN_OR_PUBLIC_IP`ì™€ `OPENVIDU_SECRET`ê°’ì…ë‹ˆë‹¤. `CERTIFICATE_TYPE`ì€ ë¨¼ì € ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒì´ ìš°ì„ ì´ê¸°ì— `selfsigned`ë¡œ ë§ì¶°ë‘ê³  ì§„í–‰í–ˆìŠµë‹ˆë‹¤.
ì´ì œ ì„¤ì •ì´ ëë‚¬ìœ¼ë©´ openviduë¥¼ ì‹¤í–‰í•˜ê³  ì ‘ì†í•˜ì—¬ ì œëŒ€ë¡œ ì‘ë‹µí•˜ëŠ”ì§€ ë´…ì‹œë‹¤.

```bash
# /opt/openvidu
./openvidu start
```

í˜¹ì€ í•„ìì™€ ê°™ì´ 443ìœ¼ë¡œ openviduë¥¼ ì—¬ëŠ”ê²Œ ì•„ë‹Œ ë‹¤ë¥¸ í¬íŠ¸ë¡œ í• ë‹¹í•´ì„œ ì—´ì–´ì•¼ í•˜ëŠ” ê²½ìš° `.env`ë¥¼ ì—´ì–´ HTTPS í¬íŠ¸ë¥¼ ë³€ê²½í•´ì„œ ì—¬ì‹œê¸° ë°”ëë‹ˆë‹¤.

ê°„ë‹¨í•œ ëª…ë ¹ì„ ì…ë ¥í•˜ë©´ ì‹œì‘ê³¼ í•¨ê»˜ ë¡œê·¸ê°€ ë³´ì´ê²Œ ë˜ëŠ”ë°, `ctrl + c`ë¡œ êº¼ì£¼ë©´ ë©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì‚¬ìš©ë  openviduì˜ ê²½ë¡œëŠ” ë‘ ê°€ì§€ì…ë‹ˆë‹¤.

1. http://[ip]:5443 (api)
2. https://[ip]:443 or my-port (openvidu server)

5443í¬íŠ¸ëŠ” ë°±ì—”ë“œì™€ ì—°ê²° í•  ë•Œ ì‚¬ìš©í•˜ë©° openvidu ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œ í•„ìš”í•©ë‹ˆë‹¤.

## Openvidu 5443ê³¼ ì—°ê²° í•  ë°±ì—”ë“œ ì„œë²„

í•„ìëŠ” fastifyë¡œ api ì„œë²„ë¥¼ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. í¬íŠ¸ì—°ê²°ê³¼ í•´ê²° ê³¼ì •ì€ ì•„ë˜ì—ì„œ í•œêº¼ë²ˆì— ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.

5000ë²ˆ í¬íŠ¸ë¡œ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ì–´ docker-composeë¡œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë“¤ì„ ê´€ë¦¬í•  ì˜ˆì •ì…ë‹ˆë‹¤.

## ë°±ì—”ë“œ ì„œë²„ì™€ ì—°ê²°ë  í”„ë¡ íŠ¸

4000ë²ˆ í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§Œë“¤ì–´ ë‘” ì†ŒìŠ¤ì½”ë“œë¥¼ ìœ„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë„ì»¤ ì´ë¯¸ì§€ë¡œ ë¹Œë“œí•´ì¤ë‹ˆë‹¤.

## docker-compose ê´€ë¦¬

ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ëŠ” ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•  ê²ƒì´ê³ , ë¬¼ë¦¬ì„œë²„ì—ì„œ êµ¬ë™ì´ ë  ê²ƒ ì…ë‹ˆë‹¤. Openvidu ì„œë²„ ë˜í•œ ë¬¼ë¦¬ì„œë²„ì—ì„œ ë™ì‘í•˜ê²Œ ë  ê²ƒ ì…ë‹ˆë‹¤.

## í¬íŠ¸í¬ì›Œë”© êµ¬ì¡°

3ê°€ì§€ ì„œë²„ë¥¼ ë¬¼ë¦¬ì„œë²„ì—ì„œ êµ¬ë™ì„ í–ˆë‹¤ë©´ ì´ì œ ê° ì„œë²„ë“¤ì„ ì—°ê²°í•´ì„œ tlsë¥¼ ì ìš©í•˜ëŠ” ê²ƒê¹Œì§€ í•˜ë ¤í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ í¬ìŠ¤íŒ…ì—ì„œëŠ” tls ê³¼ì •ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤. ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ì§‘ì¤‘í•  ë‚´ìš©ì€ í¬íŠ¸í¬ì›Œë”© ì²˜ë¦¬ì™€ ì–´ë–»ê²Œ Openvidu ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê³  í™˜ê²½ì„¤ì • í–ˆëŠ”ì§€ì— ì´ˆì ì„ ë‘˜ ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ë¨¼ì € ì•ì„œ ë§í–ˆë˜ ê²ƒì²˜ëŸ¼ í˜„ì¬ ê³µìœ ê¸°ë¥¼ í†µí•´ ì‚¬ë‚´ ì»´í“¨í„°ë“¤ì´ ì—°ê²°ë˜ì–´ ìˆëŠ”ë°, ì œì¼ ë¨¼ì € ì™¸ë¶€ì—ì„œ ë¬¼ë¦¬ì„œë²„ë¡œ ì ‘ê·¼í•  ë•Œ ê³µìœ ê¸°ì— í• ë‹¹ëœ IPë¥¼ ë³´ê²Œ ë©ë‹ˆë‹¤.

ì¦‰, 61.1.1.1ì´ë¼ê³  ê°€ì •í•˜ê³ , ìœ„ì—ì„œ êµ¬ë™í–ˆë˜ 3ê°œì˜ ì„œë²„ì™€ openvidu api ì„œë²„ì— í• ë‹¹í•  í¬íŠ¸ë¥¼ 50001, 50002, 50003, 50004 ìœ¼ë¡œ ì •í–ˆë‹¤ê³  í•˜ê² ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ë¬¼ë¦¬ì„œë²„ì˜ ipë¥¼ 192.168.88.201ì´ë¼ ê°€ì •í•˜ê³ , ë„ì»¤ê°€ ë¬¼ë¦¬ì„œë²„ì˜ wslì—ì„œ ì‹¤í–‰ë˜ê¸° ë–„ë¬¸ì— wslì— í• ë‹¹í•œ ipë¥¼ 192.168.254.16ì´ë¼ ê°€ì •í•©ë‹ˆë‹¤. ê° ì»¨í…Œì´ë„ˆëŠ” í”„ë¡ íŠ¸ 4000, ë°±ì—”ë“œ 5000, Opnevidu 10443(conferenceroom), 5443(api)ìœ¼ë¡œ í•˜ê² ìŠµë‹ˆë‹¤.

ì—°ê²°ì€ ì•ì„œ ë§í•œ ê³µìœ ê¸° -> ë¬¼ë¦¬ì„œë²„ -> wslì…ë‹ˆë‹¤. ëª¨ë‘ ì •ë¦¬í•´ì„œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. front 61.1.1.1:50001 -> 192.168.88.201:4000 -> 192.168.254.16:4000
2. back 61.1.1.1:50002 -> 192.168.88.201:5000 -> 192.168.254.16:5000
3. openvidu api 61.1.1.1:50003 -> 192.168.88.201:5443 -> 192.168.254.16:5443
4. openvidu server 61.1.1.1:50004 -> 192.168.88.201:10443 -> 192.168.254.16:10443

ì´ì œ í•˜ë‚˜ì”© í¬íŠ¸í¬ì›Œë”©í•˜ë©´ ë˜ëŠ”ë° ì´ ê³¼ì •ì—ì„œ ë§ì€ ì´ìŠˆë“¤ì´ ìˆì—ˆìŠµë‹ˆë‹¤. windowsí™˜ê²½ê³¼ ë¦¬ëˆ…ìŠ¤ ìš°ë¶„íˆ¬, wsl ê° 3ê°€ì§€ í™˜ê²½ì„ ì„¤ì •í•˜ëŠ”ë° ì†ë„ ë§ì´ ê°€ê³  ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ë¡ ë§Œ ì•„ëŠ” ìƒíƒœì—ì„œ ê¹Šì€ ë‚´ìš©ì€ ëª¨ë¥´ëŠ”, ë§¨ë•…ì— í—¤ë”©í•˜ëŠ” ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ë„ í•˜ë‚˜ì”© í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ ì™„ì„±ë˜ê°€ëŠ” ëª¨ìŠµì— í¬ì—´ì„ ëŠë¼ë©° ì§„í–‰í–ˆìŠµë‹ˆë‹¤.. ğŸ¥²

ë¨¼ì € ê³µìœ ê¸° ì„¤ì •ì—ì„œ ì™¸ë¶€ ìš”ì²­ì´ ì™”ì„ ë•Œ í¬íŠ¸í¬ì›Œë”©ì„ í•˜ê² ìŠµë‹ˆë‹¤. ì‚¬ë‚´ ì—ì„œëŠ” mikroë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•˜ëŠ”ë°ìš”, ë‹¤ë¥¸ ì‚¬ìš©í•˜ì‹œëŠ” ê¸°ê¸°ì™€ ì˜µì…˜ì´ ë‹¤ë¥¸ê²ƒ ê°™ì•„ ë‘ë£¨ë­‰ì‹¤í•˜ê²Œ ë§í•˜ê² ìŠµë‹ˆë‹¤.

ë³´í†µì€ firewallì„¤ì •ì—ì„œ `NAT`ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ ë¶€ë¶„ì—ì„œ ì™¸ë¶€ 50001í¬íŠ¸ë¥¼ ì‚¬ë‚´ ì„œë²„ í• ë‹¹í•  í¬íŠ¸ì— ì—°ê²°í•˜ë©´ ë©ë‹ˆë‹¤. ê³µìœ ê¸° ì ‘ì†í•˜ì—¬ ëª¨ë¸ëª…ì„ ê²€ìƒ‰í•˜ì—¬ í¬íŠ¸í¬ì›Œë”© ì‘ì—…í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

ê·¸ ë‹¤ìŒ ë¬¼ë¦¬ì„œë²„(ìœˆë„ìš°ì…ë‹ˆë‹¤)ì—ì„œ í¬íŠ¸í¬ì›Œë”©ì…ë‹ˆë‹¤. í¬ê²Œ `netsh interface`ë§Œ ì•Œì•„ë‘ì–´ë„ ê°€ëŠ¥í•˜ì§€ë§Œ ì‘ì—…í•˜ë©´ì„œ ì—¬ëŸ¬ ëª…ë ¹ì„ ë³´ê¸° ì‹«ì–´ë„ ë³´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.

```bash
# í¬íŠ¸í¬ì›Œë”© ë¦¬ìŠ¤íŠ¸ í™•ì¸
netsh interface portproxy show all

#frontend
netsh interface portproxy add v4tov4 listenport=4000 connectport=4000 connectaddress=192.168.254.16

# backend
netsh interface portproxy add v4tov4 listenport=5000 connectport=5000 connectaddress=192.168.254.16

# openvidu api server
netsh interface portproxy add v4tov4 listenport=5443 connectport=5443 connectaddress=192.168.254.16

# openvidu server
netsh interface portproxy add v4tov4 listenport=10443 connectport=10443 connectaddress=192.168.254.16

# tls ì ìš© í›„ nginxë¥¼ proxyë¡œ ì‚¬ìš©í•˜ì—¬ httpsì—°ê²°í•˜ê¸° ìœ„í•´ ì—´ì–´ë‘¡ë‹ˆë‹¤.
netsh interface portproxy add v4tov4 listenport=443 connectport=443 connectaddress=192.168.254.16
```

ê·¸ ë‹¤ìŒ wslì€ ê·¸ì € ì´ë¯¸ì§€ë¡œ ë¹Œë“œí•´ë‘ì—ˆë˜ í”„ë¡œì íŠ¸ë“¤ì„ docker-composeë¡œ ì‹¤í–‰í•´ì£¼ë©´ ë©ë‹ˆë‹¤. openviduëŠ” ë”°ë¡œ openvidu ì„¤ì¹˜í•´ì„œ ë°›ì€ shellì„ ì‹¤í–‰í•˜ê³ , back, frontë§Œ ê´€ë¦¬í•´ì£¼ë©´ ë©ë‹ˆë‹¤. nginxë¥¼ proxyë¡œ ì‚¬ìš©í•˜ì—¬ ë„ë©”ì¸ì„ ì—°ê²°í•˜ì—¬ ëª¨ë‘ https í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ë„ë¡ í•˜ëŠ” ì²˜ë¦¬ëŠ” ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.

ì´ ê³¼ì •ì—ì„œ ê²ªì€ ë§ì€ ì°©ì˜¤ì™€ ì´ìŠˆë“¤ì´ ìˆì—ˆëŠ”ë°ìš”, íŠ¹íˆë‚˜ ë¯¸ë¦¬ ì„œë²„ ì—°ê²° ë° í¬íŠ¸í¬ì›Œë”©ì´ ë˜ì—ˆëŠ”ì§€, í¬íŠ¸ê°€ ì—´ë ¸ëŠ”ì§€ ë¯¸ë¦¬ ì²´í¬í•´ë³´ëŠ” ë°©ë²•ì„ ë§ì´ ì•Œê²Œ ëìŠµë‹ˆë‹¤. ë” ë§ì€ ì´ì•¼ê¸°ê±°ë¦¬ê°€ ìˆì§€ë§Œ ë„ˆë¬´ ëŠ¦ì€ ì‹œê°„ì´ë¼ í¬ìŠ¤íŒ…ì€ ì—¬ê¸°ì„œ ëë‚´ê³  ì¶”ê°€ ë‚´ìš©ì„ ë‹¤ìŒì— í¬ìŠ¤íŒ… í˜¹ì€ ì¶”ê°€í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

ê·¸ë˜ë„ ê³µì¸, ì‚¬ì„¤ ipì™€ í¬íŠ¸í¬ì›Œë”©ì— ëŒ€í•´ì„œ ë§¤ìš° ê³µë¶€ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì—†ëŠ” ì‹œê°„ ìª¼ê°œì–´ ì“°ëŠ” í¬ìŠ¤íŒ…ì´ë¼ ì¡°ê¸‰í•˜ê³ , ì¡°ì¡í•˜ê²Œ ê¸°ë¡í•˜ê²Œ ë˜ì–´ ì•„ì‰½ìŠµë‹ˆë‹¤. ê³„ì†í•´ì„œ ë¯¸ë¹„ëœ í¬ìŠ¤íŒ… ì—…ë°ì´íŠ¸ì— í˜ì“°ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ğŸ™‡â€â™‚ï¸

> ì°¸ê³ ë¡œ wslì— í• ë‹¹í•œ ipì— ëŒ€í•´ ê¶ê¸ˆí•˜ì‹œë‹¤ë©´ [mysql db ë³µì œ](https://kkn1125.github.io/replication01/)ì— ê´€í•œ í¬ìŠ¤íŒ… í•˜ë‹¨ì„ ì°¸ì¡°í•˜ì‹œë©´ ë©ë‹ˆë‹¤!

---

ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©

[devkimson blog = mysql replication ì„¤ì •](https://kkn1125.github.io/replication01/)

[devkimson blog - openvidu 1í¸](https://kkn1125.github.io/opdnvidu01/)

[openvidu docs](https://docs.openvidu.io/en/stable/)
